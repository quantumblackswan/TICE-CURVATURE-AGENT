<!DOCTYPE html>
<html>
<head>
  <title>ΞΛ Validator Leaderboard</title>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-database-compat.js"></script>
  <style>
    body {
      background: #0c0e14;
      color: #00ffe0;
      font-family: monospace;
      padding: 20px;
    }
    h1 { text-align: center; }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #161b22;
      color: #00ffe0;
    }
    th, td {
      padding: 12px;
      border: 1px solid #00ffe055;
      text-align: center;
    }
    tr:nth-child(even) {
      background: #12161f;
    }
  </style>
</head>
<body>
  <h1>ΞΛ LIVE Validator Leaderboard</h1>
  <table>
    <thead>
      <tr>
        <th>Validator ID</th>
        <th>Λ (Curvature)</th>
        <th>XP Earned</th>
        <th>Ξχ</th>
        <th>Σω</th>
        <th>Timestamp</th>
      </tr>
    </thead>
    <tbody id="board"></tbody>
  </table>

  <script>
    const firebaseConfig = {
      apiKey: "PASTE_YOURS",
      authDomain: "PASTE_YOURS",
      databaseURL: "PASTE_YOURS",
      projectId: "PASTE_YOURS",
      storageBucket: "PASTE_YOURS",
      messagingSenderId: "PASTE_YOURS",
      appId: "PASTE_YOURS"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const board = document.getElementById('board');

    db.ref("validators").orderByChild("XP_earned").limitToLast(25).on("value", snapshot => {
      board.innerHTML = '';
      let data = [];
      snapshot.forEach(child => data.push(child.val()));
      data.reverse().forEach(v => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${v.validator_id}</td>
          <td>${v.Lambda?.toFixed(3)}</td>
          <td>${v.XP_earned?.toFixed(2)}</td>
          <td>${v.Xi_chi?.toFixed(3)}</td>
          <td>${v.Sigma_omega?.toFixed(3)}</td>
          <td>${new Date(v.timestamp * 1000).toLocaleString()}</td>
        `;
        board.appendChild(tr);
      });
    });
  </script>
</body>
</html>
